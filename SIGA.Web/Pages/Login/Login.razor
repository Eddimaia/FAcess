@page "/login"
@layout HeadlessLayout
@inherits LoginPage

<PageTitle>SIGA - Login</PageTitle>

<MudGrid Justify="Justify.Center">
    <MudPaper Class="pa-16 ma-2" Outlined="true" Square="true">
        <EditForm Model="@InputModel" OnValidSubmit="OnValidSubmitAsync">
            <DataAnnotationsValidator />

            <MudTextField T="string"
                          Label="Login"
                          Variant="Variant.Filled"
                          InputType="InputType.Text"
                          Margin="Margin.Dense"
                          Class="mb-5"
                          For="@(() => InputModel.Login)"
                          @bind-Value="InputModel.Login" />

            <MudTextField T="string"
                          Label="Senha"
                          Variant="Variant.Filled"
                          Margin="Margin.Dense"
                          InputType="@PasswordInput"
                          Adornment="Adornment.End"
                          AdornmentIcon="@PasswordInputIcon"
                          OnAdornmentClick="@ShowHidePassword"
                          AdornmentAriaLabel="Mostrar Password"
                          AdornmentColor="Color.Default"
                          For="@(() => InputModel.Password)"
                          @bind-Value="InputModel.Password" />

            <div class="d-flex mt-8">
                @if (IsBusy)
                {
                    <MudProgressCircular Color="Color.Info" Indeterminate="true" />
                }
                else
                {
                    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary">ENTRAR</MudButton>
                    <MudSpacer />
                    <MudButton Href="/comecar">CADASTRE-SE</MudButton>
                }
            </div>

        </EditForm>
    </MudPaper>
</MudGrid>